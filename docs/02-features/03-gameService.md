---
title: 游戏区服
---

## TapDB 区服使用攻略

TapDB 支持『设备』和『用户』2 个层级的用户实体。

- 其中『用户』由 SetUser 接口定义，可以根据游戏需要传递『账号』或『角色』。

- TapDB 推荐将『用户』定义为**『**账号**』**，在此定义下，数据将更加符合游戏发行场景下的需求（尤其是广告投放）

按照账号定义用户后，由于缺少了角色这一概念（区服属于角色属性），区服数据会存在困扰，现提供如下方法来查询区服

### 1、按照『首次区服』查询数据

- 支持范围：新增账号、活跃、留存、付费

- 定义：用户注册账号后，首次登录的区服

- 使用场景：查询首次进入新区的账号（不算进入新区的老区账号），对应的后续数据

- 局限：

  - 当账号在 1 区登录过后，再去 2 区登录，所有发生的行为只会计算在 1 区内

  - 由于设置区服在注册账号之后才发生，因此新用户第一天的活跃无法按照区服查询

### 2、按照『事件区服』查询数据

- 支持范围：付费

- 定义：账号发生某个事时所在的区服

- 使用场景：查询每个区服的真实付费金额

- 局限：如果 setsever 接入调用不准确，可能会导致统计付费和实际付费有出入

### 3、通过『自定义事件』完善区服

示例：

| 事件名   | 分类参数                         | 调用逻辑                    | 使用场景                                                   |
| -------- | -------------------------------- | --------------------------- | ---------------------------------------------------------- |
| 区服活跃 | 区服                             | 每次登录区服/切换区服时调用 | 查询每个区服活跃的设备数、登录次数                         |
| 创建角色 | 区服、职业（可选）、性别（可选） | 每次创建角色时调用          | 查询每个区服创建角色的设备数量、角色数量、职业、性别等信息 |

如果想了解如何接入自定义事件，或者想知道如何更好的使用自定义事件来满足统计需求，
敬请联系技术支持 QQ：<Data field="tapdb.support.QQ"/>。
